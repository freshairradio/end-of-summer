import{S as t,i as a,s,w as e,a as r,e as l,x as o,d as i,c,b as n,g as p,y as f,h as d,z as m,j as g,k as u,A as h,B as $,C as v,o as y,D as b,m as x,H as w,p as j}from"./client.ae4adeac.js";import{L as E,H as I}from"./Loader.82a533fc.js";function _(t){let a,s,y,b,x,j,_,D,L,V,k,z,q,G,H,M,A,B,C,S,F=t[0].html+"";return a=new E({props:{loading:!t[2]}}),k=new I({props:{tags:t[0].tags,authors:t[0].authors,title:t[0].title}}),{c(){e(a.$$.fragment),s=r(),y=l("div"),b=l("img"),_=r(),D=l("div"),L=r(),V=l("div"),e(k.$$.fragment),z=r(),q=l("div"),G=l("img"),A=r(),this.h()},l(t){o(a.$$.fragment,t),s=i(t),y=c(t,"DIV",{class:!0});var e=n(y);b=c(e,"IMG",{style:!0,class:!0,src:!0,alt:!0}),_=i(e),D=c(e,"DIV",{class:!0}),n(D).forEach(p),L=i(e),V=c(e,"DIV",{class:!0});var r=n(V);o(k.$$.fragment,r),r.forEach(p),z=i(e),q=c(e,"DIV",{class:!0});var l=n(q);G=c(l,"IMG",{class:!0,src:!0,alt:!0}),A=i(l),l.forEach(p),e.forEach(p),this.h()},h(){f(b,"filter","blur(10px)"),d(b,"class","fixed top-0 left-0 object-cover w-screen h-screen"),b.src!==(x=t[0].feature_image.small)&&d(b,"src",x),d(b,"alt",j=t[0].title),d(D,"class"," top-0 left-0 fixed w-screen h-screen bg-opacity-85 bg-black pt-20 "),d(V,"class","fixed top-0 left-0 w-full grid items-end bg-black bg-opacity-85 z-20"),d(G,"class","object-cover w-full rounded-lg max-h-80"),G.src!==(H=t[0].feature_image.small)&&d(G,"src",H),d(G,"alt",M=t[0].title),B=new w(null),d(q,"class","prose sm:prose-lg px-4 mt-40 mb-40 relative z-10 text-white font-thin\n    mx-auto svelte-b0liqf"),d(y,"class",C=(t[2]?"opacity-100":"opacity-0")+" duration-200 transition-opacity ")},m(e,r){m(a,e,r),g(e,s,r),g(e,y,r),u(y,b),t[5](b),u(y,_),u(y,D),u(y,L),u(y,V),m(k,V,null),u(y,z),u(y,q),u(q,G),u(q,A),B.m(F,q),S=!0},p(t,[s]){const e={};4&s&&(e.loading=!t[2]),a.$set(e),(!S||1&s&&b.src!==(x=t[0].feature_image.small))&&d(b,"src",x),(!S||1&s&&j!==(j=t[0].title))&&d(b,"alt",j);const r={};1&s&&(r.tags=t[0].tags),1&s&&(r.authors=t[0].authors),1&s&&(r.title=t[0].title),k.$set(r),(!S||1&s&&G.src!==(H=t[0].feature_image.small))&&d(G,"src",H),(!S||1&s&&M!==(M=t[0].title))&&d(G,"alt",M),(!S||1&s)&&F!==(F=t[0].html+"")&&B.p(F),(!S||4&s&&C!==(C=(t[2]?"opacity-100":"opacity-0")+" duration-200 transition-opacity "))&&d(y,"class",C)},i(t){S||(h(a.$$.fragment,t),h(k.$$.fragment,t),S=!0)},o(t){$(a.$$.fragment,t),$(k.$$.fragment,t),S=!1},d(e){v(a,e),e&&p(s),e&&p(y),t[5](null),v(k)}}}async function D({path:t,params:a,query:s}){return this.fetch(`posts/${a.slug}.json`).then(t=>t.json()).then(({related:t,...a})=>({post:a,related:t}))}function L(t,a,s){let e,r,{post:l}=a,{related:o}=a;const i=t=>{s(2,c=!0),r.removeEventListener("load",i)};y(()=>{r.addEventListener("load",i),s(1,r.src=l.feature_image.large,r)});let c=!1;const{preloading:n,page:p,session:f}=b();return x(t,n,t=>s(6,e=t)),t.$set=t=>{"post"in t&&s(0,l=t.post),"related"in t&&s(4,o=t.related)},t.$$.update=()=>{67&t.$$.dirty&&!e&&r&&(r.addEventListener("load",i),s(1,r.src=l.feature_image.large,r))},[l,r,c,n,o,function(t){j[t?"unshift":"push"](()=>{r=t,s(1,r),s(6,e),s(0,l)})}]}export default class extends t{constructor(t){super(),a(this,t,L,_,s,{post:0,related:4})}}export{D as preload};
