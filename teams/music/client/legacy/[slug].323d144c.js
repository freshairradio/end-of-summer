import{F as t,G as e,d as r,e as a,f as n,g as s,i,s as c,h as o,S as l,H as u,k as f,j as p,I as d,n as m,l as h,m as g,p as v,J as y,q as $,K as b,L as x,u as w,v as j,w as O,M as E,N as I,O as D,A as L,P as _,z as k,B as R}from"./client.726eb2de.js";import{L as P,H as S}from"./Loader.90e0bcac.js";function V(t,e){if(null==t)return{};var r,a,n=function(t,e){if(null==t)return{};var r,a,n={},s=Object.keys(t);for(a=0;a<s.length;a++)r=s[a],e.indexOf(r)>=0||(n[r]=t[r]);return n}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)r=s[a],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,s=a(t);if(e){var i=a(this).constructor;r=Reflect.construct(s,arguments,i)}else r=s.apply(this,arguments);return n(this,r)}}function z(t){var e,r,a,n,s,i,c,o,l,L,_,k,R,V,q,z,G,M,H,A,B=t[0].html+"";return e=new P({props:{loading:!t[2]}}),_=new S({props:{tags:t[0].tags,authors:t[0].authors,title:t[0].title}}),{c:function(){u(e.$$.fragment),r=f(),a=p("div"),n=p("img"),c=f(),o=p("div"),l=f(),L=p("div"),u(_.$$.fragment),k=f(),R=p("div"),V=p("img"),G=f(),this.h()},l:function(t){d(e.$$.fragment,t),r=m(t),a=h(t,"DIV",{class:!0});var s=g(a);n=h(s,"IMG",{style:!0,class:!0,src:!0,alt:!0}),c=m(s),o=h(s,"DIV",{class:!0}),g(o).forEach(v),l=m(s),L=h(s,"DIV",{class:!0});var i=g(L);d(_.$$.fragment,i),i.forEach(v),k=m(s),R=h(s,"DIV",{class:!0});var u=g(R);V=h(u,"IMG",{class:!0,src:!0,alt:!0}),G=m(u),u.forEach(v),s.forEach(v),this.h()},h:function(){y(n,"filter","blur(10px)"),$(n,"class","fixed top-0 left-0 object-cover w-screen h-screen"),n.src!==(s=t[0].feature_image.small)&&$(n,"src",s),$(n,"alt",i=t[0].title),$(o,"class"," top-0 left-0 fixed w-screen h-screen bg-opacity-85 bg-black pt-20 "),$(L,"class","fixed top-0 left-0 w-full grid items-end bg-black bg-opacity-85 z-20"),$(V,"class","object-cover w-full rounded-lg max-h-80"),V.src!==(q=t[0].feature_image.small)&&$(V,"src",q),$(V,"alt",z=t[0].title),M=new b(null),$(R,"class","prose sm:prose-lg px-4 mt-40 mb-40 relative z-10 text-white font-thin\n    mx-auto svelte-b0liqf"),$(a,"class",H=(t[2]?"opacity-100":"opacity-0")+" duration-200 transition-opacity ")},m:function(s,i){x(e,s,i),w(s,r,i),w(s,a,i),j(a,n),t[5](n),j(a,c),j(a,o),j(a,l),j(a,L),x(_,L,null),j(a,k),j(a,R),j(R,V),j(R,G),M.m(B,R),A=!0},p:function(t,r){var c=O(r,1)[0],o={};4&c&&(o.loading=!t[2]),e.$set(o),(!A||1&c&&n.src!==(s=t[0].feature_image.small))&&$(n,"src",s),(!A||1&c&&i!==(i=t[0].title))&&$(n,"alt",i);var l={};1&c&&(l.tags=t[0].tags),1&c&&(l.authors=t[0].authors),1&c&&(l.title=t[0].title),_.$set(l),(!A||1&c&&V.src!==(q=t[0].feature_image.small))&&$(V,"src",q),(!A||1&c&&z!==(z=t[0].title))&&$(V,"alt",z),(!A||1&c)&&B!==(B=t[0].html+"")&&M.p(B),(!A||4&c&&H!==(H=(t[2]?"opacity-100":"opacity-0")+" duration-200 transition-opacity "))&&$(a,"class",H)},i:function(t){A||(E(e.$$.fragment,t),E(_.$$.fragment,t),A=!0)},o:function(t){I(e.$$.fragment,t),I(_.$$.fragment,t),A=!1},d:function(n){D(e,n),n&&v(r),n&&v(a),t[5](null),D(_)}}}function G(t){return M.apply(this,arguments)}function M(){return(M=t(e.mark((function t(r){var a;return e.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.path,a=r.params,r.query,t.abrupt("return",this.fetch("posts/".concat(a.slug,".json")).then((function(t){return t.json()})).then((function(t){var e=t.related;return{post:V(t,["related"]),related:e}})));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function H(t,e,r){var a,n,s=e.post,i=e.related,c=function t(e){r(2,o=!0),n.removeEventListener("load",t)};L((function(){n.addEventListener("load",c),r(1,n.src=s.feature_image.large,n)}));var o=!1,l=_(),u=l.preloading;l.page,l.session;return k(t,u,(function(t){return r(6,a=t)})),t.$set=function(t){"post"in t&&r(0,s=t.post),"related"in t&&r(4,i=t.related)},t.$$.update=function(){67&t.$$.dirty&&!a&&n&&(n.addEventListener("load",c),r(1,n.src=s.feature_image.large,n))},[s,n,o,u,i,function(t){R[t?"unshift":"push"]((function(){r(1,n=t),r(6,a),r(0,s)}))}]}var A=function(t){r(a,l);var e=q(a);function a(t){var r;return s(this,a),r=e.call(this),i(o(r),t,H,z,c,{post:0,related:4}),r}return a}();export default A;export{G as preload};
